<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on 代碼倉庫</title>
    <link>https://hanigege.github.io/posts/</link>
    <description>Recent content in Posts on 代碼倉庫</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <copyright>© **石榴**.</copyright>
    <lastBuildDate>Sun, 11 May 2025 16:42:06 +0800</lastBuildDate>
    <atom:link href="https://hanigege.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>家庭聊天服务器系列（3）coturn服务搭建</title>
      <link>https://hanigege.github.io/posts/%E5%AE%B6%E5%BA%AD%E8%81%8A%E5%A4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B3%BB%E5%88%973coturn%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/</link>
      <pubDate>Sun, 11 May 2025 16:42:06 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/%E5%AE%B6%E5%BA%AD%E8%81%8A%E5%A4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B3%BB%E5%88%973coturn%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/</guid>
      <description>&lt;h2 id=&#34;docker搭建coturn-turn服务器&#34;&gt;docker搭建Coturn TURN服务器&lt;/h2&gt;&#xA;&lt;h2 id=&#34;共两种方案&#34;&gt;共两种方案：&lt;/h2&gt;&#xA;&lt;h2 id=&#34;第一种方案要了解&#34;&gt;第一种方案（要了解）&lt;/h2&gt;&#xA;&lt;h4 id=&#34;先建立一个文件夹&#34;&gt;先建立一个文件夹&lt;/h4&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir -p ~/data/docker_data/coturn/etc/coturn&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir -p ~/data/docker_data/coturn/var/run&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir -p ~/data/docker_data/coturn/var/log  &lt;span style=&#34;color:#75715e&#34;&gt;#如果用下面第一种方案这个才需要建立，第二种不需要&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd ~/data/docker_data/coturn/etc/coturn&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;touch turnserver.conf&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd ~/data/docker_data/coturn/var/run&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;touch turnserver.pid&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd ../../&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chmod &lt;span style=&#34;color:#ae81ff&#34;&gt;777&lt;/span&gt; -R var&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;拉取镜像&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; docker pull coturn/coturn&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;直接host方式运行&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     docker run -d --network&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;host &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;           -v /root/data/docker_data/coturn/etc/coturn/turnserver.conf:/etc/coturn/turnserver.conf &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;           -v /root/data/docker_data/coturn/etc/:/etc/ &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;           -v /root/data/docker_data/coturn/var:/var &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;       coturn/coturn&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;运行时不加 -d 先看输入有错误吗！&#xA;同时查看var下的log看相关的问题&#xA;调试启动命令：停止容器后会自动图删除容器，命令如下：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker run --network&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;host &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;           -v /root/data/docker_data/coturn/etc/coturn/turnserver.conf:/etc/coturn/turnserver.conf &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;           -v /root/data/docker_data/coturn/etc/:/etc/ &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;           -v /root/data/docker_data/coturn/var:/var &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;           --rm &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;       coturn/coturn&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;哪果去掉了配置文件里的指定log，停用cli功能，下面有说明，可以用下面的启动命令：&lt;/p&gt;</description>
    </item>
    <item>
      <title>家庭聊天服务器系列（2）ntfy服务搭建</title>
      <link>https://hanigege.github.io/posts/%E5%AE%B6%E5%BA%AD%E8%81%8A%E5%A4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B3%BB%E5%88%972ntfy%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/</link>
      <pubDate>Sun, 11 May 2025 16:34:01 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/%E5%AE%B6%E5%BA%AD%E8%81%8A%E5%A4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B3%BB%E5%88%972ntfy%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/</guid>
      <description>&lt;br&gt;&#xA;&lt;h3 id=&#34;ntfy-无需注册的通知服务&#34;&gt;ntfy 无需注册的通知服务&lt;/h3&gt;&#xA;&lt;h4 id=&#34;最下面是恢复备份的方案&#34;&gt;最下面是恢复备份的方案：&lt;/h4&gt;&#xA;&lt;p&gt;##​​ 什么是 ntfy ？&#xA;​ntfy​​​（发音：notify​​​）是一个简单的基于 HTTP​​​ 的 pub-sub​​​ 通知服务。它允许您通过任何计算机上的脚本向您的手机或桌面发送通知，完全无需注册或费用。&lt;/p&gt;&#xA;&lt;h4 id=&#34;官方提供了免费的版本httpsntfyshapp&#34;&gt;官方提供了免费的版本：https://ntfy.sh/app&lt;/h4&gt;&#xA;&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;&#xA;&lt;p&gt;新建文件：docker-compose.yml&#xA;脚本如下：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;services:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ntfy:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    image: binwiederhier/ntfy:latest&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    container_name: ntfy&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    command:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - serve&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    environment:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - TZ&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Asia/Shanghai&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    volumes:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - /root/data/docker_data/ntfy/data/cache:/var/cache/ntfy&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - /root/data/docker_data/ntfy/data/config:/etc/ntfy&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ports:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - 12332:80&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    restart: unless-stopped&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    networks:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - matrix&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;networks:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    matrix:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      name: matrix&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;代码中的反向代理npm转发外出端口12332 。&lt;/p&gt;&#xA;&lt;p&gt;上面的代码中会自建 网络matrix.&lt;/p&gt;&#xA;&lt;h2 id=&#34;如果先行自己建立网络如&#34;&gt;如果先行自己建立网络，如：&lt;/h2&gt;&#xA;&lt;p&gt;建立一个 docker network：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker network create matrix&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;那么您可以按照之前提到的建议在 Docker Compose 文件中将网络定义标记为外部网络，并且指定正确的网络名称。在您的 Docker Compose 文件中，您可以将网络定义修改为类似以下内容：&lt;/p&gt;</description>
    </item>
    <item>
      <title>家庭聊天服务器系列（1）synapse搭建</title>
      <link>https://hanigege.github.io/posts/%E5%AE%B6%E5%BA%AD%E8%81%8A%E5%A4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B3%BB%E5%88%971synapse%E6%90%AD%E5%BB%BA/</link>
      <pubDate>Sun, 11 May 2025 16:24:14 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/%E5%AE%B6%E5%BA%AD%E8%81%8A%E5%A4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B3%BB%E5%88%971synapse%E6%90%AD%E5%BB%BA/</guid>
      <description>&lt;br&gt;&#xA;&lt;h2 id=&#34;设计思路&#34;&gt;设计思路&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2016.27.38@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 16.27.38@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;服务器需要2台外网一台vps即可搭建coturn服务本地一台搭建synapse及ntfy服务所有服务均以docker的方式来搭建&#34;&gt;服务器需要2台，外网一台vps即可，搭建coturn服务。本地一台，搭建synapse及ntfy服务，所有服务均以docker的方式来搭建&lt;/h3&gt;&#xA;&lt;h4 id=&#34;1-ntfy服务因为很多的限制导致消息无法传达类似于你消息来了确收不到通知提醒&#34;&gt;1. ntfy服务：因为很多的限制导致消息无法传达，类似于你消息来了，确收不到通知提醒.&lt;/h4&gt;&#xA;&lt;h4 id=&#34;2-coturn-是一个-stunturn-服务器-实现主要用于-webrtcvoip视频会议等实时通信应用中解决nat-穿透问题coturn-同时实现了-stun--turn通常用作-webrtc-的中继服务器确保视频语音连接在各种复杂网络环境下都能建立&#34;&gt;2. coturn 是一个 STUN/TURN 服务器 实现，主要用于 WebRTC、VoIP、视频会议等实时通信应用中，解决NAT 穿透问题。coturn 同时实现了 STUN + TURN，通常用作 WebRTC 的中继服务器，确保视频/语音连接在各种复杂网络环境下都能建立。&lt;/h4&gt;&#xA;&lt;h4 id=&#34;3-synapse聊天服务器主体支持文字语音在线语音电话在线视频文件传送是一套完整可持续的聊天服务&#34;&gt;3. synapse聊天服务器主体，支持文字，语音，在线语音电话，在线视频，文件传送，是一套完整可持续的聊天服务。&lt;/h4&gt;&#xA;&lt;h4 id=&#34;4-客户端有很多种官网上都有介绍这里只推荐使用element客户端&#34;&gt;4. 客户端有很多种，官网上都有介绍，这里只推荐使用Element客户端。&lt;/h4&gt;&#xA;&lt;p&gt;使用synapse搭建matrix去中心化加密通信服务&lt;/p&gt;&#xA;&lt;p&gt;最最下面是备份恢复的方法，如何备份，把相关docker文件夹打包下载就可以了，需要恢复的时候，上传到相关的服务器，放在root文件夹下。&lt;/p&gt;&#xA;&lt;h4 id=&#34;切记synapae服务器不可以使用fakeip的dns代理上网只能用本地的网络不然会收不到消息ntfy会出问题&#34;&gt;切记，SYNAPAE服务器不可以使用fakeip的DNS代理上网，只能用本地的网络，不然，会收不到消息NTFY会出问题！&lt;/h4&gt;&#xA;&lt;p&gt;前言&#xA;首先必须介绍下Matrix。Matrix是一个开源、可交互、去中心化的实时通信服务框架。使用Matrix可以搭建安全的通信服务器，配合支持 Matrix 的客户端可以实现个人、团队间的实时聊天交互。&lt;/p&gt;&#xA;&lt;p&gt;与常见的QQ、微信、钉钉相比，Matrix的特点就是开源，可私有化部署，保证通信的安全和隐私。与Rocket.chat、MatterMost相比，matrix的特点还要再加上去中心化。每个运行Matrix的服务器都是一个节点，用户可以选择在任意节点注册、连接，同一个节点内的用户可以任意通信。同时，节点与节点之间也可以通过联锁（Federation）机制进行通信，实现不同节点的用户之间进行通信。&lt;/p&gt;&#xA;&lt;p&gt;因为Matrix只是个框架，可以有很多实现，本文使用的synapse就是其中一个服务端实现。&lt;/p&gt;&#xA;&lt;p&gt;除了安装服务端，本文还有安装element web端的步骤。&lt;/p&gt;&#xA;&lt;p&gt;搭一个demo并不耗资源，加上postgresql数据库才用了200MB内存不到，如果用默认的sqlite数据库会更省内存。&lt;/p&gt;&#xA;&lt;p&gt;大致效果：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;media/17469476961641/CleanShot%202025-05-11%20at%2015.38.59@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 15.38.59@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h1 id=&#34;安装服务端&#34;&gt;安装服务端&lt;/h1&gt;&#xA;&lt;h2 id=&#34;更新环境&#34;&gt;更新环境&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apt update -y  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt upgrade -y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt install -y curl wget sudo socat&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;安装-docker&#34;&gt;安装 Docker&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL https://get.docker.com -o get-docker.sh &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; sh get-docker.sh&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -L &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://github.com/docker/compose/releases/download/v2.16.0/docker-compose-&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;uname -s&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;uname -m&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; -o /usr/local/bin/docker-compose &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chmod +x /usr/local/bin/docker-compose&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;搭建synapse&#34;&gt;搭建Synapse&lt;/h2&gt;&#xA;&lt;p&gt;按照教程建立/data/synapse/下的三个文件夹：&lt;/p&gt;</description>
    </item>
    <item>
      <title>Vyos下安装ddns-Go</title>
      <link>https://hanigege.github.io/posts/vyos%E4%B8%8B%E5%AE%89%E8%A3%85ddns-go/</link>
      <pubDate>Sun, 11 May 2025 14:51:24 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/vyos%E4%B8%8B%E5%AE%89%E8%A3%85ddns-go/</guid>
      <description>&lt;br&gt;&#xA;&lt;h2 id=&#34;这里使用vyos自管理容器的方法可以获取到网卡公网ip&#34;&gt;这里使用vyos自管理容器的方法,可以获取到网卡公网ip&lt;/h2&gt;&#xA;&lt;h3 id=&#34;操作前vyos本机先科学不然没法接docker镜像&#34;&gt;操作前，vyos本机先科学，不然没法接docker镜像&lt;/h3&gt;&#xA;&lt;p&gt;    这种模式不可以设置单独的IP,因为使用的是vyos主机的ip&lt;/p&gt;&#xA;&lt;p&gt;    桥接的网络如果没有，可以建一个的：原因是方便 ddns-go使用内网的网址登录 ：172.23.0.1 (可选，非必须，也可以用内外网口ip登录)&lt;/p&gt;&#xA;&lt;h2 id=&#34;创建桥接网络&#34;&gt;创建桥接网络&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set container network ct-network prefix &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;172.23.0.0/24&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;提前建立好ddns的映射本地持久目录&#34;&gt;提前建立好ddns的映射本地持久目录：&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir -p /config/containers/ddns&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;拉取容器镜像&#34;&gt;拉取容器镜像&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ add container image &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;jeessy/ddns-go&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;搭建ddns-go&#34;&gt;搭建ddns-go&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set container name ddns-go allow-host-networks  &lt;span style=&#34;color:#75715e&#34;&gt;#允许容器使用主机网络（host network），也就是说，容器不会有独立的网络接口，而是直接使用 VyOS 主机的网络&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set container name ddns-go image &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;docker.io/jeessy/ddns-go&amp;#39;&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;#指定该容器使用的 Docker 镜像&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set container name ddns-go restart &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;always&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set container name ddns-go volume config destination &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/root/&amp;#39;&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;#映射容器内的路径&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set container name ddns-go volume config source &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/config/containers/ddns&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;#映射本地的路役&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;查看运行是否成功有up即成功&#34;&gt;查看运行是否成功有UP即成功&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo podman ps -s&#xA;sudo podman ps -a&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;登录管理平台&#34;&gt;登录管理平台&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;http://IP:9876&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;登录用户名：admin&lt;/p&gt;</description>
    </item>
    <item>
      <title>让freebsd在终端下换源</title>
      <link>https://hanigege.github.io/posts/%E8%AE%A9freebsd%E5%9C%A8%E7%BB%88%E7%AB%AF%E4%B8%8B%E6%8D%A2%E6%BA%90/</link>
      <pubDate>Sun, 11 May 2025 13:52:12 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/%E8%AE%A9freebsd%E5%9C%A8%E7%BB%88%E7%AB%AF%E4%B8%8B%E6%8D%A2%E6%BA%90/</guid>
      <description>&lt;br&gt;&#xA;&lt;h2 id=&#34;pkg-换源&#34;&gt;pkg 换源&lt;/h2&gt;&#xA;&lt;p&gt;若要获取滚动更新的包，请将 quarterly 修改为 latest。二者区别见 FreeBSD 手册。请注意，CURRENT 版本只有 latest。&lt;/p&gt;&#xA;&lt;p&gt;使用命令修改系统级 pkg 源使用 latest：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sed -i &amp;#39;&amp;#39; &amp;#39;s/quarterly/latest/g&amp;#39; /etc/pkg/FreeBSD.conf&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;创建用户级源目录和文件：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# mkdir -p /usr/local/etc/pkg/repos&#xA;# nano /usr/local/etc/pkg/repos/mirrors.conf&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;中国科学技术大学开源软件镜像站（USTC）&lt;/p&gt;&#xA;&lt;p&gt;写入以下内容：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ustc: {&#xA;url: &amp;#34;http://mirrors.ustc.edu.cn/freebsd-pkg/${ABI}/latest&amp;#34;,&#xA;}&#xA;FreeBSD: { enabled: no }&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;南京大学开源镜像站&lt;/p&gt;&#xA;&lt;p&gt;写入以下内容：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;nju: {&#xA;url: &amp;#34;http://mirrors.nju.edu.cn/freebsd-pkg/${ABI}/latest&amp;#34;,&#xA;}&#xA;FreeBSD: { enabled: no }&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;网易开源镜像站&lt;/p&gt;&#xA;&lt;p&gt;写入以下内容：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;163: {&#xA;url: &amp;#34;http://mirrors.163.com/freebsd-pkg/${ABI}/latest&amp;#34;,&#xA;}&#xA;FreeBSD: { enabled: no }&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;ports-源以源代码方式编译安装软件的包管理器&#34;&gt;ports 源：以源代码方式编译安装软件的包管理器&lt;/h2&gt;&#xA;&lt;p&gt;下载 ports&#xA;这个源是下载 ports 本身的源。等同于以前的 portsnap。&lt;/p&gt;&#xA;&lt;p&gt;Git 方法&#xA;须提前安装 git：&lt;/p&gt;</description>
    </item>
    <item>
      <title>让freebsd在终端下支持中文</title>
      <link>https://hanigege.github.io/posts/%E8%AE%A9freebsd%E5%9C%A8%E7%BB%88%E7%AB%AF%E4%B8%8B%E6%94%AF%E6%8C%81%E4%B8%AD%E6%96%87/</link>
      <pubDate>Sun, 11 May 2025 13:48:46 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/%E8%AE%A9freebsd%E5%9C%A8%E7%BB%88%E7%AB%AF%E4%B8%8B%E6%94%AF%E6%8C%81%E4%B8%AD%E6%96%87/</guid>
      <description>&lt;br&gt;&#xA;&lt;h2 id=&#34;编辑etcloginconf结尾处我一般在russian段落后面添加&#34;&gt;编辑/etc/login.conf，结尾处（我一般在russian段落后面）添加&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chinese|Chinese Users Accounts:&lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;        :charset&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;UTF-8:&lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;        :lang&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;zh_CN.UTF-8:&lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;        :setenv&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;LC_ALL&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;zh_CN.UTF-8:&lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;        :tc&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;default:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;之后运行&#34;&gt;之后运行&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cap_mkdb /etc/login.conf&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pw usermod root -L chinese&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Freebsd编译安装和使用bash</title>
      <link>https://hanigege.github.io/posts/freebsd%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8bash/</link>
      <pubDate>Sun, 11 May 2025 13:33:20 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/freebsd%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8bash/</guid>
      <description>&lt;br&gt;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;freebsd系统我建议是用普通用户登录使用，bash指令集只修改普通用户使用，root用户不要改。&#xA;&lt;br&gt;&lt;br&gt;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;🧱 原因一：bash 通常安装在 /usr/local/bin，而不是 /bin&#xA;&lt;br&gt;&lt;br&gt;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;FreeBSD 遵循传统 Unix 的目录结构，系统核心工具位于 /bin、/sbin、/usr/bin 等，而 /usr/local/bin 是用于第三方软件的。&lt;br&gt;&lt;br&gt;&#xA;&lt;p&gt;    如果你将 root 的 shell 改为 /usr/local/bin/bash，但 /usr/local 没挂载或出故障了，就无法登录或修复系统。&lt;/p&gt;&#xA;&lt;p&gt;    这在 单用户模式（single user mode）或系统修复环境中 是个大问题：系统通常只挂载了根分区 /，并不会挂载 /usr。&lt;/p&gt;&#xA;&lt;p&gt;⸻&lt;/p&gt;&#xA;&lt;p&gt;🧯 原因二：系统启动时的最小可用环境中没有 bash&lt;/p&gt;&#xA;&lt;p&gt;    系统启动早期可能 bash 还没被加载，root 就必须依赖 /bin/sh 之类的最基本 shell。&#xA;    如果你用的是 bash，而 bash 又不可用，那你甚至连 shell 都打不开。&lt;/p&gt;&#xA;&lt;h2 id=&#34;1安装bash&#34;&gt;1.安装bash&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd /usr/ports/shells/bash&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make install clean&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在/bin目录下面做一个符号连接。（这一步可以不做，可选）&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ln -s /usr/local/bin/bash /bin/bash&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;加入bash如果上一步做了&#34;&gt;加入bash,如果上一步做了&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/bin/bash&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; /etc/shells&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;保持默认路径的用下面的&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/usr/local/bin/bash&amp;#39;&lt;/span&gt; | sudo tee -a /etc/shells&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;4.更改用户shell(root用户不建议修改）&lt;/p&gt;</description>
    </item>
    <item>
      <title>安装freebsd13.1流程(14.2版本的一样)</title>
      <link>https://hanigege.github.io/posts/freebsd-install/</link>
      <pubDate>Sun, 11 May 2025 13:12:51 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/freebsd-install/</guid>
      <description>&lt;br&gt;&#xA;&lt;h2 id=&#34;开始安装回车&#34;&gt;开始安装，回车&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.07.59@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.07.59@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;直接回车&#34;&gt;直接回车&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.08.27@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.08.27@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;填写主机名-可直接回车&#34;&gt;填写主机名 （可直接回车）&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.09.40@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.09.40@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;默认的基础上多加一个安装ports&#34;&gt;默认的基础上多加一个安装ports&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.12.20@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.12.20@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;这里我选择ufs虚拟机我建议选ufs&#34;&gt;这里我选择UFS（虚拟机我建议选UFS）&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.12.44@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.12.44@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;直接回车-1&#34;&gt;直接回车&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.13.30@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.13.30@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;选择gpt&#34;&gt;选择GPT&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.14.48@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.14.48@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;finish&#34;&gt;finish&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.15.11@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.15.11@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;commit&#34;&gt;commit&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.15.38@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.15.38@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;开始安装&#34;&gt;开始安装&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.16.02@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.16.02@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;安装好后会提示设定root密码&#34;&gt;安装好后会提示设定root密码&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.16.32@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.16.32@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;ok-设置网络&#34;&gt;ok 设置网络&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.17.10@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.17.10@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;选no-自设置ip地址&#34;&gt;选no ,自设置ip地址&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.17.43@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.17.43@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;设置完点ok&#34;&gt;设置完点ok&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-05%20at%2007.18.33@2x.png&#34; alt=&#34;CleanShot 2025-05-05 at 07.18.33@2x&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Alpine Linux搭建sing-box服务端</title>
      <link>https://hanigege.github.io/posts/alpine-linux-sing-box/</link>
      <pubDate>Sun, 11 May 2025 12:14:50 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/alpine-linux-sing-box/</guid>
      <description>&lt;br&gt;&#xA;现在有很多便宜NAT鸡因为配置较低，所以只选用的是Alpine Linux,所以我就随便写了个教程方便使用。&#xA;&lt;h2 id=&#34;安装依赖&#34;&gt;安装依赖&lt;/h2&gt;&#xA;&lt;p&gt;首先先安装singbox,还有vim（方便编辑）&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@testing https://dl-cdn.alpinelinux.org/alpine/edge/testing&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;etc&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;apk&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;repositories&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apk add sing&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;box&lt;span style=&#34;color:#a6e22e&#34;&gt;@testing&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apk add vim&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rc&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;update add sing&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;box default&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;设置自启&#34;&gt;设置自启.&lt;/h2&gt;&#xA;&lt;h4 id=&#34;1这里要说明一下上面安装好后默认会自动生成启动文件etcinitdsing-box-&#34;&gt;1.这里要说明一下，上面安装好后默认会自动生成启动文件&lt;code&gt;/etc/init.d/sing-box &lt;/code&gt;,&lt;/h4&gt;&#xA;&lt;p&gt;配置文件在&#xA;&lt;code&gt;/etc/sing-box/config.json&lt;/code&gt;&lt;/p&gt;&#xA;&lt;h4 id=&#34;2如果用下面自建的默认的就不用启动就行了更不要设置自启动以免冲突&#34;&gt;2.如果用下面自建的，默认的就不用启动就行了，更不要设置自启动，以免冲突。&lt;/h4&gt;&#xA;&lt;p&gt;编辑这个文件：&lt;code&gt;vim /etc/init.d/singbox&lt;/code&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/sbin/openrc-run&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;command&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/usr/bin/sing-box&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;command_args&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;run -c /root/config.json&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;#是您的配置文件位置&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;description&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;singbox service&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;depend&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  need net&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  use logger&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ebegin &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Starting singbox&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  start-stop-daemon --start --background --exec $command -- $command_args&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  eend $?&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;stop&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ebegin &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Stopping singbox&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  start-stop-daemon --stop --exec $command&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  eend $?&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后加入OpenRC自启动&lt;/p&gt;</description>
    </item>
    <item>
      <title>Sing-Box中的ss服务的写法配置</title>
      <link>https://hanigege.github.io/posts/sing-box-ss-server/</link>
      <pubDate>Sun, 11 May 2025 12:07:27 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/sing-box-ss-server/</guid>
      <description>&lt;h2 id=&#34;服务端&#34;&gt;服务端：&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;shadowsocks&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;listen&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;::&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;listen_port&amp;#34;&lt;/span&gt;: 58442,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;method&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;chacha20-ietf-poly1305&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Um5zktQDo6GKqM1L/lLzwg==&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;multiplex&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;enabled&amp;#34;&lt;/span&gt;: true&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;客户端&#34;&gt;客户端：&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;shadowsocks&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;tag&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ss-in-jygg-ros&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;server&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;你的域名.xyz&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;server_port&amp;#34;&lt;/span&gt;: 58442,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;network_strategy&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hybrid&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;method&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;chacha20-ietf-poly1305&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Um5zktQDo6GKqM1L/lLzwg==&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;udp_over_tcp&amp;#34;&lt;/span&gt;: false&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>出国自建voip(二.2)三汇SMG4004-4LC的配置方法测试电话呼叫</title>
      <link>https://hanigege.github.io/posts/sanhui-smg4004-4lc-set/</link>
      <pubDate>Sun, 11 May 2025 11:29:46 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/sanhui-smg4004-4lc-set/</guid>
      <description>&lt;h2 id=&#34;我使用的是三汇smg4004-4lc算是捡垃圾了这是以前的老款4口语音网关目前这款只能支持2g网络和短信我测试我这个地区只支持移动和联通不过也够用了&#34;&gt;我使用的是三汇SMG4004-4LC（算是捡垃圾了，这是以前的老款），4口语音网关，目前这款只能支持2g网络和短信，我测试我这个地区只支持移动和联通。不过也够用了。&lt;/h2&gt;&#xA;&lt;h4 id=&#34;使用前需要先升能这款设备的固件相关升级文件本站有提供下载&#34;&gt;使用前需要先升能这款设备的固件，相关升级文件，本站有提供下载。&lt;/h4&gt;&#xA;&lt;p&gt;照着下面设置，就可以测试电话呼叫了：&#xA;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2011.31.37@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 11.31.37@2x&#34;&gt;&#xA;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2011.31.50@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 11.31.50@2x&#34;&gt;&#xA;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2011.32.01@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 11.32.01@2x&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>出国自建voip(二）创建 Telegram 机器人</title>
      <link>https://hanigege.github.io/posts/sanhui-telegram-bot-4/</link>
      <pubDate>Sun, 11 May 2025 11:19:47 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/sanhui-telegram-bot-4/</guid>
      <description>&lt;p&gt;要通过 Telegram 机器人 对接 三汇语音网关（SMG4000-C1LC） 的短信功能，您需要完成以下几个步骤：&lt;/p&gt;&#xA;&lt;h2 id=&#34;步骤-1&#34;&gt;步骤 1：&lt;/h2&gt;&#xA;&lt;p&gt;打开 Telegram，搜索并与 BotFather 聊天。&lt;/p&gt;&#xA;&lt;p&gt;发送命令 /newbot 来创建一个新的机器人。&lt;/p&gt;&#xA;&lt;p&gt;给机器人起个名字并设置用户名。&lt;/p&gt;&#xA;&lt;p&gt;BotFather 会给你一个 API Token，用来与 Telegram 机器人进行交互。保存好这个 &lt;code&gt;Token&lt;/code&gt;。&lt;/p&gt;&#xA;&lt;p&gt;步骤 2：配置三汇网关发送短信&#xA;三汇语音网关一般支持通过 HTTP API 或 SMTP 发送短信。首先，确保三汇网关的短信服务已经启用，并且能够通过接口发送短信。&lt;/p&gt;&#xA;&lt;p&gt;步骤 3：编写 Telegram 机器人和三汇网关的对接脚本 （本站有提供下载）&#xA;你需要编写一个脚本，使用 Telegram 机器人获取信息，并通过 HTTP 请求将短信发送到三汇网关。&lt;/p&gt;&#xA;&lt;p&gt;步骤 3.1：安装 Telegram Bot 库（例如 Python 的 python-telegram-bot）（详情，请看voip出国系列三）&lt;/p&gt;</description>
    </item>
    <item>
      <title>出国自建voip(一)Freepbx16配置</title>
      <link>https://hanigege.github.io/posts/freepbx16-set-all-1/</link>
      <pubDate>Sun, 11 May 2025 06:43:58 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/freepbx16-set-all-1/</guid>
      <description>&lt;br&gt;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;为什么要建回家voip系统，出国后，电话就是国际长途，打电话收发短信都不方便，有没有办法可以做到通过网络传递语音和收发短信（利用telegram机器人），当然可以，手机卡可以放在国内的小设备上，自己手机上装一个sip软电话客户端，即可完全实现，接听拨打电话，收发短信，并且不会再受地域限制，仅限学习交流，友情提醒，不要做违反当地法律法规的事。&#xA;&lt;h1 id=&#34;开始操作&#34;&gt;开始操作&lt;/h1&gt;&#xA;&lt;h4 id=&#34;架构&#34;&gt;架构&lt;/h4&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2011.14.14@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 11.14.14@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;freepbx16首先修改ip为固定ip&#34;&gt;freepbx16首先修改ip为固定ip&lt;/h2&gt;&#xA;&lt;p&gt;安装好后，系统其实是dhcp动态获得ip的，进入看了看，是Centos，我们不需要dhcp，把IP给固定死&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vi &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;etc&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;sysconfig&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;network&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;scripts&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;ifcfg&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;eth0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;下面的内容跟实际配置文件里的内容相对替换，一一对应替换，原文件里的内容可能更多一些，只修改下面有的，没涉及的保持原来的，dns不可以用科学的，只允许用本地，不然会影响后面系统里nat-ip获取的准确性&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;TYPE=&amp;#34;Ethernet&amp;#34;&#xA;BOOTPROTO=&amp;#34;static&amp;#34;&#xA;IPADDR=10.8.2.60&#xA;NETMASK=255.255.255.0&#xA;GATEWAY=10.8.2.1&#xA;DNS1=114.114.114.114&#xA;DEFROUTE=&amp;#34;yes&amp;#34;&#xA;NAME=&amp;#34;eth0&amp;#34;&#xA;DEVICE=&amp;#34;eth0&amp;#34;&#xA;ONBOOT=&amp;#34;yes&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;重启～&lt;/p&gt;&#xA;&lt;h1 id=&#34;freepbx16配置图例&#34;&gt;freepbx16配置图例&lt;/h1&gt;&#xA;&lt;p&gt;freepbx16默认安装在pve系统上就好，登录系统后&#xA;：&lt;/p&gt;&#xA;&lt;h2 id=&#34;先进行asterisk-sip-设置&#34;&gt;先进行asterisk sip 设置&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2006.47.04@2x.png&#34; alt=&#34;先进行asterisk sip 设置&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2006.56.27@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 06.56.27@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2006.59.32@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 06.59.32@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2007.03.35@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 07.03.35@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;现在开始设置系统中文地区时间&#34;&gt;现在开始设置系统中文地区时间&lt;/h2&gt;&#xA;&lt;p&gt;选择高级设置：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;高级设置里一开始还有一个选项是启`chan_sip`,这个记的要打开，不然后面设置中继或者是sip有些选项不显示&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2007.07.49@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 07.07.49@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2007.09.16@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 07.09.16@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;开启中继配置-这块设置是连接三汇语音网关的&#34;&gt;开启中继配置 （这块设置是连接三汇语音网关的）&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2007.12.25@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 07.12.25@2x&#34;&gt;&#xA;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2007.13.45@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 07.13.45@2x&#34;&gt;&#xA;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2007.13.57@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 07.13.57@2x&#34;&gt;&#xA;&lt;img src=&#34;assets/CleanShot%202025-05-11%20at%2007.14.08@2x.png&#34; alt=&#34;CleanShot 2025-05-11 at 07.14.08@2x&#34;&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;host&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;dynamic&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;port&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5160&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;peer&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;secret&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;666&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;context&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;from&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;pstn&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dtmfmode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;rfc2833&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;insecure&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;no&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;qualify&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3000&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;照图填写就好，这里是内网传输使用的，端口不影响啥&lt;/p&gt;</description>
    </item>
    <item>
      <title>出国自建voip(三.2）Telegram机器人连接程序自启动（补充篇）</title>
      <link>https://hanigege.github.io/posts/telegram-sms-bot2/</link>
      <pubDate>Sun, 11 May 2025 00:58:10 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/telegram-sms-bot2/</guid>
      <description>&lt;h2 id=&#34;rootsms-source-myenvbinactivate&#34;&gt;root@sms:~# source myenv/bin/activate&lt;/h2&gt;&#xA;&lt;h2 id=&#34;激活虚拟环境&#34;&gt;激活虚拟环境&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;source myenv/bin/activate &#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;(myenv) root@sms:~# nohup python sms3.py &amp;gt; sms.log 2&amp;gt;&amp;amp;1 &amp;amp;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;后台启动sms3.py&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;nohup python sms3.py &amp;gt; sms.log 2&amp;gt;&amp;amp;1 &amp;amp;&#xA;or&#xA;nohup python sms.py &amp;gt; sms.log 2&amp;gt;&amp;amp;1 &amp;amp;&#xA;(myenv) root@sms:~#&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;上面的两条命令能不能做成脚本，设置为开机自启动&lt;/p&gt;&#xA;&lt;p&gt;可以的，你可以创建一个 systemd 服务 或者 编写一个 shell 脚本 来实现 Python 虚拟环境的激活 并 运行 sms3.py 脚本，同时设置为 开机自启动。&lt;/p&gt;&#xA;&lt;p&gt;方法 1：使用 systemd (推荐)&#xA;适用于 Debian/Ubuntu 及大多数 Linux 发行版。&lt;/p&gt;&#xA;&lt;p&gt;步骤 1：创建 systemd 服务文件&#xA;运行以下命令，创建 sms3.service：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;nano /etc/systemd/system/sms3.service&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;填入以下内容：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[Unit]&#xA;Description=SMS Python Service&#xA;After=network.target&#xA;&#xA;[Service]&#xA;User=root&#xA;WorkingDirectory=/root&#xA;ExecStart=/root/myenv/bin/python /root/sms3.py&#xA;Restart=always&#xA;StandardOutput=append:/root/sms.log&#xA;StandardError=append:/root/sms.log&#xA;&#xA;[Install]&#xA;WantedBy=multi-user.target&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;⚠ 注意：&lt;/p&gt;</description>
    </item>
    <item>
      <title>出国自建voip(三）连接Telegram机器人本地安装</title>
      <link>https://hanigege.github.io/posts/telegram-sms-bot/</link>
      <pubDate>Sun, 11 May 2025 00:39:56 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/telegram-sms-bot/</guid>
      <description>&lt;h3 id=&#34;前提是telegram自己的机器人提前生成好并获取相应的密钥&#34;&gt;前提是telegram自己的机器人提前生成好，并获取相应的密钥&lt;/h3&gt;&#xA;&lt;h1 id=&#34;打开一台虚拟机建议debian12&#34;&gt;打开一台虚拟机（建议debian12)&lt;/h1&gt;&#xA;&lt;h2 id=&#34;方法-1使用虚拟环境&#34;&gt;方法 1：使用虚拟环境&lt;/h2&gt;&#xA;&lt;p&gt;创建一个 Python 虚拟环境，并在其中安装所需的库。这样可以避免系统级 Python 环境的冲突。&lt;/p&gt;&#xA;&lt;p&gt;安装 python3-venv（如果未安装）&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apt update&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apt install python3&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;venv&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;创建一个新的虚拟环境&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; python3 &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;m venv myenv&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;激活虚拟环境&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source myenv&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;bin&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;activate&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在虚拟环境中安装 python-telegram-bot&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pip install python&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;telegram&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;bot smpplib&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;运行脚本：你可以在虚拟环境中运行你的 Telegram 机器人脚本,脚本&lt;code&gt;sms.py&lt;/code&gt;下载&#xA;命令：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python sms&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;py&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;退出虚拟环境：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deactivate&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;运行脚本有三种方案一种是运行在tmux虚拟窗口下二种是直接本地后台运行三种systemd进行管理-建议第三种&#34;&gt;运行脚本有三种方案，一种是运行在tmux虚拟窗口下，二种是直接本地后台运行，三种systemd进行管理 （建议第三种）&lt;/h2&gt;&#xA;&lt;p&gt;以上要运行在虚拟窗口下，建议使用tmux&lt;/p&gt;&#xA;&lt;h4 id=&#34;1使用-tmux&#34;&gt;1.使用 tmux&lt;/h4&gt;&#xA;&lt;p&gt;安装（如果未安装）：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;apt-get install tmux       # Debian/Ubuntu &#xA;yum install tmux           # CentOS/RHEL&#xA;启动 Tmux 会话：&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;tmux&lt;/strong&gt;&#xA;按 Ctrl+B，然后按 D，会返回终端。&lt;/p&gt;&#xA;&lt;p&gt;关闭 SSH，程序继续运行。&lt;/p&gt;&#xA;&lt;p&gt;重新连接：&lt;/p&gt;&#xA;&lt;p&gt;列出会话：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;tmux ls&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;输出示例：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;0: 1 windows (created ...)&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;恢复会话：&lt;/p&gt;</description>
    </item>
    <item>
      <title>Vyos上网系统之-vyos命令技巧集(3)</title>
      <link>https://hanigege.github.io/posts/vyos-jiqiao-3/</link>
      <pubDate>Sat, 10 May 2025 21:35:04 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/vyos-jiqiao-3/</guid>
      <description>&lt;h2 id=&#34;你可以使用-delete-和-set-命令来修改-network-group-的子网&#34;&gt;你可以使用 delete 和 set 命令来修改 network-group 的子网。&lt;/h2&gt;&#xA;&lt;p&gt;修改 LAN-v4 的网络&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;删除原来的 192.168.10.0/24&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;delete firewall group network-group LAN-v4 network 192.168.10.0/24&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;&#xA;&lt;li&gt;添加新的 192.168.100.0/24&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set firewall group network-group LAN-v4 network 192.168.100.0/24&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;提交并保存&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;commit&#xA;save&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;验证修改是否生效&lt;/p&gt;&#xA;&lt;p&gt;执行以下命令：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;show firewall group network-group LAN-v4&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如果输出如下，就说明修改成功：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; network-group LAN-v4 {&#xA;     network 192.168.100.0/24&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在 VyOS 中，你可以使用以下命令查看 所有配置：&#xA;显示完整的层级配置（推荐）&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;show configuration&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这个命令会以 层级结构 显示整个配置，类似于 show running-config。&lt;/p&gt;&#xA;&lt;p&gt;显示所有配置命令（适合复制）($ 模式下）&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;show configuration commands&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这个命令会以 show 命令的格式 展示所有配置，适用于备份或复制配置：&lt;/p&gt;&#xA;&lt;p&gt;按层级展开查看（交互式）&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;show configuration level 2&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;level 2 代表展开到第 2 层，你可以调整 level 数值来控制显示的详细程度。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Vyos上网系列之-Fakeip配置(2)</title>
      <link>https://hanigege.github.io/posts/vyos-fakeip-2/</link>
      <pubDate>Sat, 10 May 2025 21:25:08 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/vyos-fakeip-2/</guid>
      <description>&lt;h2 id=&#34;对于终端网关是vyos的通过mosdns来分流realip和fakeip的流量-可这样配置&#34;&gt;对于终端网关是vyos的，通过mosdns来分流realip和fakeip的流量, 可这样配置:&lt;/h2&gt;&#xA;&lt;p&gt;(vyos的group分为address-group,network-group等)&lt;/p&gt;&#xA;&lt;h4 id=&#34;定义组-ip例&#34;&gt;定义组 IP例:&lt;/h4&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set firewall group address-group Telegram-v4 address &amp;#39;157.148.47.204&amp;#39;&#xA;set firewall group address-group Telegram-v4 address &amp;#39;182.43.124.6&amp;#39;&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;定义组网段v4例&#34;&gt;定义组网段V4例：&lt;/h4&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set firewall group network-group Telegram-v4 network &amp;#39;91.108.56.0/22&amp;#39;&#xA;set firewall group network-group Telegram-v4 network &amp;#39;91.108.4.0/22&amp;#39;&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;定义组telegram V4:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set firewall group network-group Telegram-v4 network &amp;#39;91.108.56.0/22&amp;#39;&#xA;set firewall group network-group Telegram-v4 network &amp;#39;91.108.4.0/22&amp;#39;&#xA;set firewall group network-group Telegram-v4 network &amp;#39;91.108.8.0/22&amp;#39;&#xA;set firewall group network-group Telegram-v4 network &amp;#39;91.108.16.0/22&amp;#39;&#xA;set firewall group network-group Telegram-v4 network &amp;#39;91.108.12.0/22&amp;#39;&#xA;set firewall group network-group Telegram-v4 network &amp;#39;149.154.160.0/20&amp;#39;&#xA;set firewall group network-group Telegram-v4 network &amp;#39;91.105.192.0/23&amp;#39;&#xA;set firewall group network-group Telegram-v4 network &amp;#39;91.108.20.0/22&amp;#39;&#xA;set firewall group network-group Telegram-v4 network &amp;#39;185.76.151.0/24&amp;#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;定义组ip-v6例&#34;&gt;定义组ip-V6例：&lt;/h4&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set firewall group ipv6-address-group Telegram-v6 address &amp;#39;2a00:1098:80:2::1004&amp;#39;&#xA;set firewall group ipv6-address-group Telegram-v6 address &amp;#39;2a00:1098:80:2::1001&amp;#39;&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;定义组网段V6例：&lt;/p&gt;</description>
    </item>
    <item>
      <title>Vyos上网系列之-上网配置（1）</title>
      <link>https://hanigege.github.io/posts/vyos-jibenshangwang-1/</link>
      <pubDate>Sat, 10 May 2025 21:04:17 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/vyos-jibenshangwang-1/</guid>
      <description>&lt;h4 id=&#34;vyos的命令行界面是基于shell的没有图形界面-但是可以用tab自动补全&#34;&gt;vyos的命令行界面是基于shell的，没有图形界面, 但是可以用tab自动补全.&lt;/h4&gt;&#xA;&lt;p&gt;本文的vyos命令是基于vyos的vyos-rolling-nightly-builds的1.5.x版本.&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;**特别感谢大卫佬给予的指导与帮助**&lt;/code&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;pve安装vyos&#34;&gt;pve安装vyos:&lt;/h2&gt;&#xA;&lt;p&gt;下载nightly-build: &lt;a href=&#34;https://github.com/vyos/vyos-nightly-build/releases&#34;&gt;https://github.com/vyos/vyos-nightly-build/releases&lt;/a&gt;&#xA;pve的虚拟机设置和安装(略), 建议内存2G, 磁盘10G或更大, 因为vyos可以运行容器, vyos用podman管理容器.&lt;/p&gt;&#xA;&lt;p&gt;vm运行后, 用vyos:vyos登录. 用命令&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;install image&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;安装vyos.&lt;/p&gt;&#xA;&lt;p&gt;进入配置模式：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;configure&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;生效：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;commit&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;保存配置：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;save&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;取消生效的,未保存的配置：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;discard&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;下面开始配置随时都可以输入生效命令如果不保存重启后配置会失效&#34;&gt;下面开始配置，随时都可以输入生效命令，如果不保存，重启后配置会失效&lt;/h2&gt;&#xA;&lt;p&gt;设置ssh登录:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set service ssh port &amp;#39;22&amp;#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;创建用户gary:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set system login user gary full-name gary&#xA;set system login user gary authentication plaintext-password &amp;#39;密码&amp;#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;建议ssh密钥登录:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set system login user gary authentication public-keys gary@laptop key &amp;#39;your-public-key&amp;#39;&#xA;set system login user gary authentication public-keys gary@laptop type &amp;#39;ssh-rsa&amp;#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;禁用默认的vyos用户:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set system login user vyos disable&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;设置系统的hostname:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;set system host-name &amp;#39;vyos&amp;#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;查看系统的hostname&lt;/p&gt;</description>
    </item>
    <item>
      <title>RosIPV6配置方案</title>
      <link>https://hanigege.github.io/posts/ros-ipv6-set/</link>
      <pubDate>Thu, 08 May 2025 20:37:25 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/ros-ipv6-set/</guid>
      <description>&lt;h2 id=&#34;ipv6最终配置定型&#34;&gt;ipv6最终配置定型：&lt;/h2&gt;</description>
    </item>
    <item>
      <title>vyos多网口小主机桥接配置(完整）</title>
      <link>https://hanigege.github.io/posts/vyos-qiaojie-4kou/</link>
      <pubDate>Wed, 07 May 2025 23:30:18 +0800</pubDate>
      <guid>https://hanigege.github.io/posts/vyos-qiaojie-4kou/</guid>
      <description>&lt;h3 id=&#34;一基本上网配置&#34;&gt;一.基本上网配置&lt;/h3&gt;&#xA;&lt;h3 id=&#34;vyos的命令行界面是基于shell的没有图形界面-但是可以用tab自动补全&#34;&gt;vyos的命令行界面是基于shell的，没有图形界面, 但是可以用tab自动补全&lt;/h3&gt;&#xA;&lt;p&gt;本文的vyos命令是基于vyos的vyos-rolling-nightly-builds的1.5.x版本.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
